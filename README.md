# æ™ºèƒ½ OCR Â· æ•°å­—æ–‡çŒ®å­¦

> å°†æ‰«æç‰ˆ PDF è½¬ä¸ºå¯å…¨æ–‡æœç´¢çš„ PDFï¼Œä¸“ä¸ºä¸­æ–‡å¤ç±ä¸å­¦æœ¯æ–‡çŒ®è®¾è®¡ã€‚

## â¬‡ï¸ ç«‹å³ä¸‹è½½

| å¹³å° | ä¸‹è½½ |
|------|------|
| ğŸ macOS (Apple Silicon / Intel) | [**æ™ºèƒ½OCRå·¥å…·_macOS_v1.0.1.dmg**](https://github.com/anon-research-tools/intelligent-ocr/releases/latest/download/æ™ºèƒ½OCRå·¥å…·_macOS_v1.0.1.dmg) |
| ğŸªŸ Windows 10/11 (64ä½) | [**æ™ºèƒ½OCRå·¥å…·_å®‰è£…ç¨‹åº_v1.0.1.exe**](https://github.com/anon-research-tools/intelligent-ocr/releases/latest/download/æ™ºèƒ½OCRå·¥å…·_å®‰è£…ç¨‹åº_v1.0.1.exe) |

ğŸ‘‰ [æŸ¥çœ‹æ‰€æœ‰ç‰ˆæœ¬](https://github.com/anon-research-tools/intelligent-ocr/releases)

> **é¦–æ¬¡å¯åŠ¨**ä¼šè‡ªåŠ¨ä¸‹è½½ OCR æ¨¡å‹ï¼ˆçº¦ 200MBï¼‰ï¼Œéœ€è¦è”ç½‘ã€‚ä¹‹åå®Œå…¨ç¦»çº¿ä½¿ç”¨ã€‚

---

## ä¸ºä»€ä¹ˆé€‰æ‹©è¿™æ¬¾å·¥å…·ï¼Ÿ

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| ğŸ” **å…¨æ–‡å¯æœç´¢** | æ‰«æå›¾åƒåŸæ ·ä¿ç•™ï¼ŒåŒæ—¶å†™å…¥éšè—æ–‡å­—å±‚ï¼Œæ”¯æŒé€‰å–ã€å¤åˆ¶ã€å…¨æ–‡æœç´¢ |
| ğŸ€„ **å¤ç±ç¹ä½“ä¸“é¡¹ä¼˜åŒ–** | å†…ç½® 10,000+ æ¡å¼‚ä½“å­—æ˜ å°„ï¼šæœç´¢ã€Œå¤§è—ç¶“ã€ï¼Œå†™ä½œã€Œå¤§è”µç¶“ã€çš„é¡µé¢ä¹Ÿèƒ½å‘½ä¸­ |
| ğŸ“ **å¤§æ‰¹é‡ç¨³å®šå¤„ç†** | æ‹–æ‹½æ•´ä¸ªæ–‡ä»¶å¤¹æ‰¹é‡å…¥é˜Ÿï¼Œ500 é¡µä»¥ä¸Šå¤§ä¹¦ä¸å´©æºƒ |
| â¸ï¸ **æ–­ç‚¹ç»­ä¼ ** | ä»»æ„ä¸­æ–­åé‡å¯ï¼Œä»ä¸Šæ¬¡ä½ç½®ç»§ç»­ï¼Œå·²å®Œæˆé¡µé¢ä¸é‡å¤å¤„ç† |
| âœ… **é¡µé¢å®Œæ•´æ€§ä¿æŠ¤** | å¤„ç†å®Œæˆåè‡ªåŠ¨æ ¸éªŒé¡µæ•°ï¼Œç¼ºé¡µæ—¶è‡ªåŠ¨ä»åŸæ–‡ä»¶è¡¥å…¨å¹¶å‘å‡ºè­¦å‘Š |
| ğŸš€ **æµæ°´çº¿åŠ é€Ÿ** | æ¸²æŸ“ä¸ OCR å¹¶è¡Œï¼Œé€Ÿåº¦æ¯”ä¸²è¡Œå¿« 30â€“40% |
| ğŸ“„ **å¤šæ ¼å¼å¯¼å‡º** | å¯é€‰åŒæ—¶å¯¼å‡º `.txt`ï¼ˆçº¯æ–‡å­—ï¼‰å’Œ `.md`ï¼ˆMarkdownï¼‰ |
| ğŸ’» **å®Œå…¨æœ¬åœ°è¿è¡Œ** | æ¨¡å‹ä¸‹è½½åˆ°æœ¬åœ°åæ— éœ€è”ç½‘ï¼Œæ–‡ä»¶ä¸ä¸Šä¼ ä»»ä½•æœåŠ¡å™¨ |

---

## å¿«é€Ÿä¸Šæ‰‹

1. ä¸‹è½½å®‰è£…åŒ…ï¼Œå®‰è£…åå¯åŠ¨ã€Œæ™ºèƒ½OCRå·¥å…·ã€
2. å°† PDF æ–‡ä»¶æ‹–å…¥çª—å£ï¼ˆæˆ–ç‚¹å‡»ã€Œé€‰æ‹©æ–‡ä»¶ã€/ã€Œé€‰æ‹©æ–‡ä»¶å¤¹ã€ï¼‰
3. ç‚¹å‡»å³ä¸‹è§’ã€Œâ–¶ å¼€å§‹å¤„ç†ã€
4. å®Œæˆåï¼Œè¾“å‡ºæ–‡ä»¶ä¸åŸæ–‡ä»¶åŒç›®å½•ï¼Œæ–‡ä»¶ååŠ  `_ocr` åç¼€

macOS é¦–æ¬¡æ‰“å¼€è‹¥æç¤ºã€Œæ— æ³•éªŒè¯å¼€å‘è€…ã€ï¼šå³é”®ç‚¹å‡»åº”ç”¨ â†’ æ‰“å¼€ â†’ åœ¨å¼¹çª—ä¸­ç‚¹å‡»ã€Œæ‰“å¼€ã€ã€‚

---

## çŠ¶æ€è¯´æ˜

| çŠ¶æ€ | å«ä¹‰ |
|------|------|
| ç°è‰²ã€Œå¾…å¤„ç†ã€ | ç­‰å¾…é˜Ÿåˆ— |
| è“è‰²ã€Œå¤„ç†ä¸­ã€+ è¿›åº¦æ¡ | æ­£åœ¨ OCR |
| ç»¿è‰²ã€Œå·²å®Œæˆã€ | æˆåŠŸ |
| ç»¿è‰²ã€Œå·²å®Œæˆ âš ã€ | æˆåŠŸï¼Œä½†æœ‰éƒ¨åˆ†é¡µé¢ä»åŸæ–‡ä»¶å¤åˆ¶ï¼ˆæ‚¬åœæŸ¥çœ‹è¯¦æƒ…ï¼‰ |
| çº¢è‰²ã€Œå¤±è´¥ã€ | å‘ç”Ÿé”™è¯¯ï¼ˆæ‚¬åœæŸ¥çœ‹åŸå› ï¼‰ |

---

## è®¾ç½®é€‰é¡¹

ç‚¹å‡»å³ä¸Šè§’ âš™ å›¾æ ‡è¿›å…¥è®¾ç½®ï¼š

| é€‰é¡¹ | è¯´æ˜ |
|------|------|
| è¯†åˆ«è¯­è¨€ | ä¸­æ–‡ / è‹±æ–‡ / æ—¥æ–‡ï¼ˆå¯å¤šé€‰ï¼‰ |
| è¯†åˆ«è´¨é‡ | å¿«é€Ÿ / å‡è¡¡ / ç²¾å‡† |
| DPI | æ¸²æŸ“åˆ†è¾¨ç‡ï¼Œ300 DPI ä¸ºæ¨èå€¼ |
| å¹¶è¡Œçº¿ç¨‹æ•° | å¤šæ ¸åŠ é€Ÿï¼Œé»˜è®¤è‡ªåŠ¨æ£€æµ‹ï¼ˆå»ºè®® â‰¤2ï¼‰ |
| è·³è¿‡å·²æœ‰æ–‡å­— | è·³è¿‡å·²å«æ–‡å­—å±‚çš„é¡µé¢ï¼Œé¿å…é‡å¤å¤„ç† |
| æ–­ç‚¹ç»­ä¼  | å¼€å¯åæ”¯æŒä¸­æ–­æ¢å¤ |
| å¯¼å‡º TXT / Markdown | åŒæ—¶å¯¼å‡ºçº¯æ–‡å­—æˆ– Markdown æ ¼å¼ |

---

## å‘½ä»¤è¡Œç”¨æ³•

```bash
# å¤„ç†å•ä¸ªæ–‡ä»¶ï¼ˆè¾“å‡ºåˆ°åŒç›®å½•çš„ input_ocr.pdfï¼‰
./æ™ºèƒ½OCRå·¥å…· input.pdf
```

---

## å¸¸è§é—®é¢˜

**Q: é¦–æ¬¡å¯åŠ¨å¾ˆæ…¢ï¼Ÿ**
æ¨¡å‹æ–‡ä»¶çº¦ 200MBï¼Œé¦–æ¬¡è¿è¡Œè‡ªåŠ¨ä¸‹è½½å¹¶ç¼“å­˜åˆ°æœ¬åœ°ï¼Œåç»­æ— éœ€è”ç½‘ã€‚

**Q: å¤„ç†é€Ÿåº¦å¤šå¿«ï¼Ÿ**
Apple M ç³»åˆ—èŠ¯ç‰‡çº¦ 8â€“15 ç§’/é¡µï¼ˆå‡è¡¡æ¨¡å¼ï¼‰ï¼ŒWindows Intel çº¦ 15â€“25 ç§’/é¡µã€‚

**Q: æ”¯æŒå¤šå¤§çš„æ–‡ä»¶ï¼Ÿ**
æ— ç¡¬æ€§é™åˆ¶ã€‚æµæ°´çº¿åˆ†é¡µå¤„ç†ï¼Œå†…å­˜å ç”¨æ’å®šï¼›æ–­ç‚¹ç»­ä¼ ä¿éšœè¶…é•¿ä»»åŠ¡å¯é å®Œæˆã€‚

**Q: è¾“å‡ºæ–‡ä»¶æ¯”åŸæ–‡ä»¶å¤§ï¼Ÿ**
æ­£å¸¸ç°è±¡ã€‚è¾“å‡ºåŒ…å«åŸå§‹å›¾åƒå±‚ï¼ˆä¿ç•™ç”»è´¨ï¼‰+ æ–‡å­—å±‚ã€‚å¯åœ¨è®¾ç½®ä¸­é™ä½ DPI å‡å°ä½“ç§¯ã€‚

**Q: æ—¥å¿—åœ¨å“ªï¼Ÿ**
`~/.ocr_tool/logs/`ï¼ˆmacOSï¼‰æˆ– `%USERPROFILE%\.ocr_tool\logs\`ï¼ˆWindowsï¼‰ã€‚
è®¾ç½® `OCR_DEBUG=1` ç¯å¢ƒå˜é‡å¯å¼€å¯è¯¦ç»†è°ƒè¯•æ—¥å¿—ã€‚

---

## è½¯ä»¶æ¶æ„

```
ocr_tool/
â”œâ”€â”€ core/                        # å¹³å°æ— å…³çš„æ ¸å¿ƒå¤„ç†å±‚
â”‚   â”œâ”€â”€ ocr_engine.py            # PaddleOCR å°è£…ï¼Œæ”¯æŒ fast/balanced/high ä¸‰ç§è´¨é‡æ¨¡å¼
â”‚   â”œâ”€â”€ pdf_processor.py         # ä¸»å¤„ç†ç®¡é“ï¼šæµæ°´çº¿æ¸²æŸ“ã€åŒå±‚ PDF åˆæˆã€å¤šæ ¼å¼å¯¼å‡º
â”‚   â”œâ”€â”€ checkpoint.py            # æ–­ç‚¹ç»­ä¼ ï¼šJSON æ£€æŸ¥ç‚¹ï¼Œè®°å½•å·²å®Œæˆ/è·³è¿‡/å¤±è´¥é¡µé¢
â”‚   â”œâ”€â”€ task_manager.py          # ä»»åŠ¡é˜Ÿåˆ—ï¼ŒPENDINGâ†’PROCESSINGâ†’COMPLETED/FAILED
â”‚   â”œâ”€â”€ parallel_ocr.py          # å¤šè¿›ç¨‹å¹¶è¡Œ OCRï¼ˆspawn æ¨¡å¼ï¼Œå…¼å®¹ PaddlePaddleï¼‰
â”‚   â””â”€â”€ variants.py              # å¼‚ä½“å­—æ˜ å°„å™¨ï¼Œ10,556 æ¡è§„åˆ™
â”‚
â”œâ”€â”€ desktop/                     # PySide6 æ¡Œé¢ GUI å±‚ï¼ˆApple é£æ ¼è®¾è®¡ï¼‰
â”‚   â”œâ”€â”€ main_window.py           # ä¸»çª—å£ï¼Œæ‡’åŠ è½½ OCR æ¨¡å‹ï¼ˆèŠ‚çœ ~500MB å¯åŠ¨å†…å­˜ï¼‰
â”‚   â”œâ”€â”€ workers.py               # QThread åå°çº¿ç¨‹ï¼Œå‘å‡º progress/task_complete ä¿¡å·
â”‚   â”œâ”€â”€ styles.py                # é›†ä¸­æ ·å¼ç®¡ç†
â”‚   â””â”€â”€ widgets/
â”‚       â”œâ”€â”€ drop_zone.py         # æ‹–æ‹½åŒºåŸŸ
â”‚       â”œâ”€â”€ file_queue.py        # æ–‡ä»¶é˜Ÿåˆ—ï¼ˆå«è­¦å‘ŠçŠ¶æ€ âš  æ˜¾ç¤ºï¼‰
â”‚       â”œâ”€â”€ settings_dialog.py   # è®¾ç½®å¯¹è¯æ¡†
â”‚       â””â”€â”€ process_dialog.py    # å¤„ç†è¿›åº¦å¯¹è¯æ¡†
â”‚
â”œâ”€â”€ web/                         # FastAPI Web æœåŠ¡ï¼ˆå¯é€‰ï¼Œç”¨äºæœåŠ¡å™¨éƒ¨ç½²ï¼‰
â”‚   â””â”€â”€ app.py                   # REST API: upload â†’ status â†’ download
â”‚
â”œâ”€â”€ hooks/                       # PyInstaller æ‰“åŒ…é’©å­
â”‚   â””â”€â”€ rthook_paddlex_deps.py   # ä¿®è¡¥ PaddleX ä¾èµ–æ£€æŸ¥ï¼Œä½¿å…¶åœ¨ frozen ç¯å¢ƒè¿è¡Œ
â”‚
â”œâ”€â”€ installers/
â”‚   â”œâ”€â”€ macos/build_dmg.sh       # macOS DMG æ„å»ºè„šæœ¬
â”‚   â””â”€â”€ windows/setup.iss        # Inno Setup Windows å®‰è£…è„šæœ¬
â”‚
â”œâ”€â”€ .github/workflows/build.yml  # GitHub Actions è‡ªåŠ¨æ„å»ºï¼ˆmacOS + Windowsï¼‰
â”œâ”€â”€ variants.txt                 # 10,556 æ¡å¼‚ä½“å­—æ˜ å°„è¡¨
â”œâ”€â”€ main.py                      # å…¥å£ï¼šGUI æ¨¡å¼ / CLI æ¨¡å¼
â””â”€â”€ ocr_tool.spec                # PyInstaller æ‰“åŒ…é…ç½®
```

### å…³é”®è®¾è®¡

**åŒå±‚ PDF åˆæˆ**ï¼šä½¿ç”¨ PyMuPDF çš„ `insert_textbox(render_mode=3)` å°† OCR æ–‡å­—ä»¥ä¸å¯è§æ¨¡å¼å†™å…¥ï¼Œåæ ‡ä»å›¾åƒåƒç´ è½¬æ¢ä¸º PDF ç‚¹åæ ‡ï¼ˆ`zoom = dpi / 72.0`ï¼‰ã€‚ç«–æ’æ–‡å­—æ£€æµ‹ï¼š`rect_height > rect_width Ã— 2` æ—¶æ”¹ç”¨ `insert_text(rotate=270)`ã€‚

**æµæ°´çº¿é˜²æ­»é”**ï¼šæ¸²æŸ“çº¿ç¨‹é€šè¿‡ `safe_put()` å‘é˜Ÿåˆ—å†™å…¥ï¼ˆ60 ç§’è¶…æ—¶ï¼‰ã€‚å®šæœŸä¿å­˜ä½¿ç”¨å¿«é€Ÿæ¨¡å¼ï¼ˆ`garbage=0, deflate=False`ï¼‰ï¼Œé¿å…æ…¢é€Ÿå‹ç¼©é˜»å¡ä¸»çº¿ç¨‹è¶…è¿‡è¶…æ—¶é˜ˆå€¼å¯¼è‡´ä¸¢é¡µã€‚

**å¤šè¿›ç¨‹å…¼å®¹æ€§**ï¼šPaddlePaddle åœ¨ `fork` æ¨¡å¼ä¸‹å› å†…éƒ¨ OpenMP çº¿ç¨‹æ± å†²çªä¼šæ°¸ä¹…å¡ä½ï¼Œå¼ºåˆ¶ä½¿ç”¨ `spawn` æ¨¡å¼ã€‚

---

## å¼€å‘è€…æŒ‡å—

### ç¯å¢ƒæ­å»º

```bash
git clone https://github.com/anon-research-tools/intelligent-ocr.git
cd intelligent-ocr

python -m venv venv
source venv/bin/activate   # Windows: venv\Scripts\activate
pip install -r requirements-desktop.txt
```

### è¿è¡Œä¸æµ‹è¯•

```bash
python main.py                        # å›¾å½¢ç•Œé¢
python main.py input.pdf              # å‘½ä»¤è¡Œå¤„ç†å•ä¸ªæ–‡ä»¶
uvicorn web.app:app --port 8000       # Web æœåŠ¡
python -m pytest tests/ -v            # è¿è¡Œæµ‹è¯•
```

### å‘å¸ƒæ–°ç‰ˆæœ¬

æ¨é€ tag å³å¯è§¦å‘ GitHub Actions åœ¨ macOS å’Œ Windows ä¸Šè‡ªåŠ¨æ„å»ºå¹¶å‘å¸ƒ Releaseï¼š

```bash
git tag v1.0.2
git push origin v1.0.2
```

### Web æœåŠ¡ç¯å¢ƒå˜é‡

| å˜é‡ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `UPLOAD_DIR` | `/tmp/ocr_uploads` | ä¸Šä¼ ç›®å½• |
| `OUTPUT_DIR` | `/tmp/ocr_outputs` | è¾“å‡ºç›®å½• |

---

## æŠ€æœ¯æ ˆ

- **OCR å¼•æ“**: PaddleOCR v5 / PaddleXï¼ˆPP-OCRv5 æ¨¡å‹ï¼‰
- **PDF å¤„ç†**: PyMuPDF (fitz)
- **æ¡Œé¢ GUI**: PySide6 (Qt6)
- **Web æ¡†æ¶**: FastAPI + Uvicorn
- **æ‰“åŒ…**: PyInstaller + create-dmg (macOS) / Inno Setup (Windows)

---

## è®¸å¯è¯

MIT License
